#!/usr/bin/env sh

rofi_command="rofi -theme theme/powermenu.rasi"

### Options ###
power_off="\tShutdown"
reboot="\tReboot"
lock="\tLock"
suspend="\tSleep"
log_out="\tLogout"
# Variable passed to rofi
options="${power_off}\n${reboot}\n${lock}\n${suspend}\n${log_out}"

selection="$(echo -e "$options" | $rofi_command -dmenu -selected-row 2 | cut -d $'\t' -f 2)"

case ${selection} in
Shutdown)
  systemctl poweroff
  ;;
Reboot)
  systemctl reboot
  ;;
Lock)
  zzz
  ;;
Sleep)
  dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player.Pause
  systemctl suspend
  ;;
Logout)
  bspc quit
  ;;
esac
